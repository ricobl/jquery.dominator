<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet" href="http://github.com/jquery/qunit/raw/master/qunit/qunit.css" type="text/css" media="screen" />
<script type="text/javascript" src="http://github.com/jquery/qunit/raw/master/qunit/qunit.js"></script>
<script>
(function($){
    $.extend({
        dominator: function (selector) {
            var parts = selector.split(' ').reverse();
            var element = null;
            $.each(parts, function(){
                var part = $('<' + this + ' />');
                if (element) {
                    part.append(element);
                }
                element = part;
            });
            return element;
        }
    });
})(jQuery);
</script>
<script>
$(document).ready(function(){
    module('dominator');

    function html (element) {
        return $('<div />').append(element).html();
    }

    test('generate simple tag', function() {
        expect(2);
        equals(html($.dominator('p')), '<p></p>', '"p" generates a paragraph');
        equals(html($.dominator('div')), '<div></div>', '"div" generates a div');
    });

    test('generate nested tags', function() {
        expect(2);
        equals(html($.dominator('div p')), '<div><p></p></div>', '"div p" selector generates a nested structure');
        equals(html($.dominator('div p span a')), '<div><p><span><a></a></span></p></div>', '"div p span a" selector generates a nested structure');
    });
});
</script>
</head>
<body>
    <h1 id="qunit-header">QUnit example</h1>
    <h2 id="qunit-banner"></h2>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
</body>
</html>
